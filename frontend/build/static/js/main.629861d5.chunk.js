(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{148:function(e,t,n){},195:function(e,t,n){e.exports=n(212)},202:function(e,t,n){},203:function(e,t,n){e.exports=n.p+"static/media/logo.06e73328.svg"},204:function(e,t,n){},212:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(25),c=n.n(o),i=(n(202),n(4)),l=(n(203),n(204),n(10)),s=n(284),u=n(287),d=n(300),p=n(19),m=n(15),h=n(296),f=n(304),g=n(308),b=n(307),v=n(303),y=n(305),O=n(306),w=n(274),E=n(275),x=n(289),_=n(160),j=n.n(_),S=n(159),k=n.n(S),C=n(156),T=n.n(C),N=n(161),I=n.n(N),L=n(18),F=n(22),P="http://0.0.0.0:8080";function J(){J=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new j(a||[]);return r(c,"_invoke",{value:w(e,n,i)}),c}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=s;var d={};function p(){}function m(){}function h(){}var f={};l(f,o,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(S([])));b&&b!==t&&n.call(b,o)&&(f=b);var v=h.prototype=p.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function O(e,t){var a;r(this,"_invoke",{value:function(r,o){function c(){return new t(function(a,c){!function r(a,o,c,i){var l=u(e[a],e,o);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(d).then(function(e){s.value=e,c(s)},function(e){return r("throw",e,c,i)})}i(l.arg)}(r,o,a,c)})}return a=a?a.then(c,c):c()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=E(c,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=h,r(v,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=l(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(O.prototype),l(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new O(s(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var A=new AbortController,R=Object(F.b)("workspace/explainpattern",function(){var e=Object(L.a)(J().mark(function e(t,n){var r,a,o,c;return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,r(),a=t.pattern,o=new URL("".concat(P,"/explain/").concat(a)),e.next=6,fetch(o,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"GET"}).then(function(e){return e.json()});case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),z=Object(F.b)("workspace/deletePattern",function(){var e=Object(L.a)(J().mark(function e(t,n){var r,a,o,c;return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=t.theme,a=t.pattern,o=new URL("".concat(P,"/delete_pattern")),e.next=5,fetch(o,{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"POST",body:JSON.stringify({theme:r,pattern:a})}).then(function(e){return e.json()});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),G=Object(F.b)("workspace/pinPattern",function(){var e=Object(L.a)(J().mark(function e(t,n){var r,a,o,c;return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=t.theme,a=t.pattern,o=new URL("".concat(P,"/pin_pattern")),e.next=5,fetch(o,{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"POST",body:JSON.stringify({theme:r,pattern:a})}).then(function(e){return e.json()});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),D=Object(F.b)("workspace/related_examples",function(){var e=Object(L.a)(J().mark(function e(t,n){var r,a,o,c;return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,r(),a=t.id,o=new URL("".concat(P,"/related_examples/").concat(a)),e.next=6,fetch(o,{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"GET"}).then(function(e){return e.json()});case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),B=Object(F.b)("workspace/patterns",function(){var e=Object(L.a)(J().mark(function e(t,n){var r,a,o;return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=A.signal,a=new URL("".concat(P,"/patterns")),e.next=5,fetch(a,{signal:r,headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"GET"}).then(function(e){return e.json()});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),U=Object(F.b)("workspace/combinedpatterns",function(){var e=Object(L.a)(J().mark(function e(t,n){var r,a,o;return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=A.signal,a=new URL("".concat(P,"/annotations")),e.next=5,fetch(a,{signal:r,headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"GET"}).then(function(e){return e.json()});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),H=Object(F.b)("workspace/delete_softmatch_globally",function(){var e=Object(L.a)(J().mark(function e(t,n){var r,a,o,c;return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=t.pivot_word,a=t.similar_word,o=new URL("".concat(P,"/delete_softmatch_globally/").concat(r,"/").concat(a)),e.next=5,fetch(o,{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"GET"}).then(function(e){return e.json()});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),M=n(3),W=n(14);function Y(){Y=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new j(a||[]);return r(c,"_invoke",{value:w(e,n,i)}),c}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=s;var d={};function p(){}function m(){}function h(){}var f={};l(f,o,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(S([])));b&&b!==t&&n.call(b,o)&&(f=b);var v=h.prototype=p.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function O(e,t){var a;r(this,"_invoke",{value:function(r,o){function c(){return new t(function(a,c){!function r(a,o,c,i){var l=u(e[a],e,o);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(d).then(function(e){s.value=e,c(s)},function(e){return r("throw",e,c,i)})}i(l.arg)}(r,o,a,c)})}return a=a?a.then(c,c):c()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=E(c,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=h,r(v,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=l(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(O.prototype),l(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new O(s(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var K=Object(F.b)("workspace/dataset",function(){var e=Object(L.a)(Y().mark(function e(t,n){var r,a;return Y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=new URL("".concat(P,"/dataset")),e.next=4,fetch(r,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"GET"}).then(function(e){return e.json()});case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),V=Object(F.b)("workspace/labeled_data",function(){var e=Object(L.a)(Y().mark(function e(t,n){var r,a,o;return Y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=t.theme,a=new URL("".concat(P,"/labeled_data")),e.next=5,fetch(a,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"POST",body:JSON.stringify({theme:r})}).then(function(e){return e.json()});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),X=Object(F.b)("workspace/groupedDataset",function(){var e=Object(L.a)(Y().mark(function e(t,n){var r,a,o;return Y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,0==(r=t.selectedSetting)?a=new URL("".concat(P,"/original_dataset_order")):1==r?a=new URL("".concat(P,"/pattern_clusters")):2==r?a=new URL("".concat(P,"/NN_classification")):3==r&&(a=new URL("".concat(P,"/NN_cluster"))),e.next=5,fetch(a,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"GET"}).then(function(e){return e.json()});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),q=function(e,t,n,r){var a=Object(W.a)(r);switch("".concat(t)){case"0":return a;case"1":return r.forEach(function(e,t){e.sort(function(e,t){return-n[e].score+n[t].score}),a[t]=e}),a;case"2":return r.forEach(function(e,t){e.sort(function(e,t){return n[e].score-n[t].score}),a[t]=e}),a;case"3":return r.forEach(function(e,t){e.sort(function(e,t){return Math.abs(n[e].score-.5)-Math.abs(n[t].score-.5)}),a[t]=e}),a;case"4":return a;default:e.sort(function(e,t){return n[e].score-n[t].score})}},Q=Object(F.b)("workspace/create_session",function(){var e=Object(L.a)(Y().mark(function e(t,n){var r,a,o,c;return Y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,r(),a=t.user,o=new URL("".concat(P,"/create_session/").concat(a)),e.next=6,fetch(o,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",credentials:"include",annotuser:a},method:"GET"}).then(function(e){return e.json()});case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());function Z(){Z=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new j(a||[]);return r(c,"_invoke",{value:w(e,n,i)}),c}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=s;var d={};function p(){}function m(){}function h(){}var f={};l(f,o,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(S([])));b&&b!==t&&n.call(b,o)&&(f=b);var v=h.prototype=p.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function O(e,t){var a;r(this,"_invoke",{value:function(r,o){function c(){return new t(function(a,c){!function r(a,o,c,i){var l=u(e[a],e,o);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(d).then(function(e){s.value=e,c(s)},function(e){return r("throw",e,c,i)})}i(l.arg)}(r,o,a,c)})}return a=a?a.then(c,c):c()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=E(c,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=h,r(v,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=l(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(O.prototype),l(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new O(s(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}Object(F.b)("workspace/clear",function(){var e=Object(L.a)(Z().mark(function e(t,n){var r,a,o;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,r(),a=new URL("".concat(P,"/clear")),e.next=5,fetch(a,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"POST"}).then(function(e){return e.json()});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());var $=Object(F.b)("workspace/multiLabelData",function(){var e=Object(L.a)(Z().mark(function e(t,n){var r,a,o,c,i;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=t.elementId,a=t.label,o=t.positive,c=0==o?{elementId:r,theme:a,positive:0}:{elementId:r,theme:a,positive:1},e.next=5,fetch("".concat(P,"/label"),{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"POST",body:JSON.stringify(c)}).then(function(e){return e.json()});case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),ee=Object(F.b)("workspace/deleteLabelData",function(){var e=Object(L.a)(Z().mark(function e(t,n){var r,a,o,c;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=t.elementId,a=t.label,o=new URL("".concat(P,"/delete_label")),e.next=5,fetch(o,{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"POST",body:JSON.stringify({elementId:r,theme:a})}).then(function(e){return e.json()});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),te=Object(F.b)("workspace/phrase",function(){var e=Object(L.a)(Z().mark(function e(t,n){var r,a,o,c,i,l;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=t.phrase,a=t.label,o=t.id,c=t.positive,i=new URL("".concat(P,"/phrase")),e.next=5,fetch(i,{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"POST",body:JSON.stringify({phrase:r,theme:a,elementId:o,positive:c})}).then(function(e){return e.json()});case 5:return(l=e.sent).id=o,l.phrase=r,l.label=a,l.positive=c,e.abrupt("return",l);case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),ne=Object(F.b)("workspace/toggleBinaryMode",function(){var e=Object(L.a)(Z().mark(function e(t,n){var r,a,o,c;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=t.binary_mode,a=r?0:1,o=new URL("".concat(P,"/toggle_binary_mode/").concat(a)),e.next=6,fetch(o,{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"GET"}).then(function(e){return e.json()});case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),re=Object(F.b)("workspace/group_annotations",function(){var e=Object(L.a)(Z().mark(function e(t,n){var r,a,o;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,r(),t.ids,t.label,a=new URL("".concat(P,"/bulk_label")),e.next=6,fetch(a,{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"POST",body:JSON.stringify(t)}).then(function(e){return e.json()});case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());function ae(){ae=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,c=Object.create(o.prototype),i=new j(a||[]);return r(c,"_invoke",{value:w(e,n,i)}),c}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=s;var d={};function p(){}function m(){}function h(){}var f={};l(f,o,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(S([])));b&&b!==t&&n.call(b,o)&&(f=b);var v=h.prototype=p.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function O(e,t){var a;r(this,"_invoke",{value:function(r,o){function c(){return new t(function(a,c){!function r(a,o,c,i){var l=u(e[a],e,o);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(d).then(function(e){s.value=e,c(s)},function(e){return r("throw",e,c,i)})}i(l.arg)}(r,o,a,c)})}return a=a?a.then(c,c):c()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return k()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=E(c,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=h,r(v,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:m,configurable:!0}),m.displayName=l(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(O.prototype),l(O.prototype,c,function(){return this}),e.AsyncIterator=O,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new O(s(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var oe,ce=Object(F.b)("workspace/themes",function(){var e=Object(L.a)(ae().mark(function e(t,n){var r,a;return ae().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=new URL("".concat(P,"/themes")),e.next=4,fetch(r,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"GET"}).then(function(e){return e.json()});case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),ie=Object(F.b)("workspace/selected_theme",function(){var e=Object(L.a)(ae().mark(function e(t,n){var r,a;return ae().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=new URL("".concat(P,"/selected_theme")),e.next=4,fetch(r,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"GET"}).then(function(e){return e.json()});case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),le=Object(F.b)("workspace/merge_themes",function(){var e=Object(L.a)(ae().mark(function e(t,n){var r,a;return ae().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=new URL("".concat(P,"/merge_themes")),e.next=4,fetch(r,{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"POST",body:JSON.stringify(t)}).then(function(e){return e.json()});case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),se=Object(F.b)("workspace/split_themes",function(){var e=Object(L.a)(ae().mark(function e(t,n){var r,a,o,c,i;return ae().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=t.theme,a=t.group1,o=t.group2,c=new URL("".concat(P,"/split_theme")),e.next=5,fetch(c,{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"POST",body:JSON.stringify({theme:r,group1:a,group2:o})}).then(function(e){return e.json()});case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),ue=Object(F.b)("workspace/split_theme_by_pattern",function(){var e=Object(L.a)(ae().mark(function e(t,n){var r,a,o,c,i;return ae().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=t.theme,a=t.patterns,o=t.new_theme_name,c=new URL("".concat(P,"/split_theme_by_pattern")),e.next=5,fetch(c,{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"POST",body:JSON.stringify({theme:r,patterns:a,new_theme_name:o})}).then(function(e){return e.json()});case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),de=Object(F.b)("workspace/rename_theme",function(){var e=Object(L.a)(ae().mark(function e(t,n){var r,a,o,c;return ae().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=t.theme,a=t.new_name,o=new URL("".concat(P,"/rename_theme")),e.next=5,fetch(o,{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"POST",body:JSON.stringify({theme:r.toLowerCase(),new_name:a.toLowerCase()})}).then(function(e){return e.json()});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),pe=Object(F.b)("workspace/deleteTheme",function(){var e=Object(L.a)(ae().mark(function e(t,n){var r,a,o;return ae().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=t.theme,a=new URL("".concat(P,"/delete_theme")),e.next=5,fetch(a,{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"POST",body:JSON.stringify({theme:r})}).then(function(e){return e.json()});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),me=Object(F.b)("workspace/addTheme",function(){var e=Object(L.a)(ae().mark(function e(t,n){var r,a;return ae().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,t.theme,r=new URL("".concat(P,"/add_theme")),e.next=5,fetch(r,{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"POST",body:JSON.stringify(t)}).then(function(e){return e.json()});case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),he=Object(F.b)("workspace/setTheme",function(){var e=Object(L.a)(ae().mark(function e(t,n){var r,a,o;return ae().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,r=t.theme,a=new URL("".concat(P,"/set_theme")),e.next=5,fetch(a,{headers:{"Content-Type":"application/json",credentials:"include",annotuser:window.localStorage.getItem("user").replaceAll('"',"")},method:"POST",body:JSON.stringify({theme:r.toLowerCase()})}).then(function(e){return e.json()});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),fe=new AbortController,ge=Object.freeze({0:"Default",1:"Positives",2:"Negatives",3:"Unsure"}),be=Object.freeze({0:"None",1:"Patterns",2:"Model predictions",3:"Similarity"}),ve={},ye={},Oe={},we={},Ee={},xe={workspace:"fairytale-bias-val-split",dataset:[],groups:[],groupNames:[],backupGroups:[],elements:{},userLabel:{},modelLabel:{},rules:null,combinedRules:null,curCategory:null,scores:null,patterns:[],combinedPatterns:{},explanation:{},modelAnnotationCount:0,loading:!0,loadingCombinedPatterns:!1,loadingPatterns:!1,orderSetting:ge,groupingSettings:be,selectedSetting:0,selectedGroupSetting:0,annotationPerRetrain:10,userAnnotationCount:0,userAnnotationTracker:0,totalDataset:0,selectedPatterns:{},themes:[],relatedExamples:[],selectedTheme:null,element_to_label:{},negative_element_to_label:{},color_code:{},not_color:"#fc0b22",binary_mode:!1,refresh:!1,cacheHit:null,color_schema:["#B23CFD","#00B74A","#39C0ED","#FFA900","#262626","#1266F1","#008080","#964B00","#deb887","#FF7F50"]},_e=function(e,t,n){var r=0;return e&&Object.keys(e).forEach(function(t){var a=e[t];a&&a.find(function(e){return e==n})&&(r+=1)}),t&&Object.keys(t).forEach(function(e){var a=t[e];a&&a.find(function(e){return e==n})&&(r+=1)}),r},je=Object(F.c)({name:"workspace",initialState:xe,reducers:{addTheme:function(e,t){var n=JSON.parse(JSON.stringify(e.themes));if(n&&n.find(function(e){return e==t.payload.theme}))return Object(m.a)({},e);var r=JSON.parse(JSON.stringify(e.color_code)),a=t.payload.theme,o=t.payload.index,c=JSON.parse(JSON.stringify(e.color_schema));return n=[].concat(Object(W.a)(n),[a]),r["".concat(a)]=c[o],Object(m.a)({},e,{themes:n,color_code:r})},updateElementLabel:function(e,t){var n=!1,r=JSON.parse(JSON.stringify(e.selectedTheme)),a=JSON.parse(JSON.stringify(e.userAnnotationTracker)),o=JSON.parse(JSON.stringify(e.negative_element_to_label));if("REMOVE"==t.payload.event){var c=JSON.parse(JSON.stringify(e.element_to_label));if(c[t.payload.elementId]){var i=JSON.parse(JSON.stringify(e.userAnnotationCount));return c[t.payload.elementId]=c[t.payload.elementId].filter(function(e){return e!=t.payload.label}),n=!0,Object(m.a)({},e,{element_to_label:c,userAnnotationCount:i-1,refresh:n})}}else if("ADD"==t.payload.event){o[t.payload.elementId]&&o[t.payload.elementId].find(function(e){return e==t.payload.label})&&(o[t.payload.elementId]=o[t.payload.elementId].filter(function(e){return e!=t.payload.label}));var l=JSON.parse(JSON.stringify(e.element_to_label));l[t.payload.elementId]&&-1!=l[t.payload.elementId].indexOf(t.payload.label)||(a+=1,n=!0),l[t.payload.elementId]?l[t.payload.elementId]=[].concat(Object(W.a)(l[t.payload.elementId]),[t.payload.label]):l[t.payload.elementId]=[t.payload.label];var s=_e(l,o,r);return Object(m.a)({},e,{element_to_label:l,negative_element_to_label:o,userAnnotationCount:s,userAnnotationTracker:a,refresh:n})}},updateNegativeElementLabel:function(e,t){var n=t.payload,r=n.elementId,a=n.theme,o=n.label,c=JSON.parse(JSON.stringify(e.element_to_label)),i=JSON.parse(JSON.stringify(e.negative_element_to_label)),l=JSON.parse(JSON.stringify(e.selectedTheme)),s=JSON.parse(JSON.stringify(e.userAnnotationTracker));s+=1,1==o?(i[r]=i[r]&&i[r].filter(function(e){return e!=a}),c[t.payload.elementId]?c[t.payload.elementId]=[].concat(Object(W.a)(c[t.payload.elementId]),[t.payload.theme]):c[t.payload.elementId]=[t.payload.theme]):0==o&&(c[r]=c[r]&&c[r].filter(function(e){return e!=a}),i[t.payload.elementId]?i[t.payload.elementId]=Object(W.a)(new Set([].concat(Object(W.a)(i[t.payload.elementId]),[t.payload.theme]))):i[t.payload.elementId]=[t.payload.theme]);var u=_e(c,i,l);return Object(m.a)({},e,{negative_element_to_label:i,element_to_label:c,userAnnotationCount:u,userAnnotationTracker:s,refresh:!0})},updatePatExp:function(e,t){var n=JSON.parse(JSON.stringify(e.patternExp)),r=t.payload,a=r.pattern,o=r.soft_match;return n[a][1]=n[a][1].filter(function(e){return e!=o}),Object(m.a)({},e,{patternExp:n})},updateBinaryMode:function(e,t){var n=JSON.parse(JSON.stringify(e.binary_mode));return Object(m.a)({},e,{binary_mode:!n})},updatePatterns:function(e,t){var n=t.payload,r=n.pattern,a=n.status,o=JSON.parse(JSON.stringify(e.patterns)),c=JSON.parse(JSON.stringify(e.combinedPatterns));try{o[r].status=a}catch(l){console.log("This shouldnt happen ",o)}if(0==a)c.patterns=c.patterns.filter(function(e){return e.pattern!=r});else{var i=o[r];i.weight="-",c.patterns.push(i)}return Object(m.a)({},e,{patterns:o,combinedPatterns:c})},changeSetting:function(e,t){var n=JSON.parse(JSON.stringify(e.dataset)),r=JSON.parse(JSON.stringify(e.elements)),a=JSON.parse(JSON.stringify(e.backupGroups)),o=JSON.parse(JSON.stringify(e.groups)),c=JSON.parse(JSON.stringify(e.groups)),i=(JSON.parse(JSON.stringify(e.selectedTheme)),JSON.parse(JSON.stringify(e.selectedGroupSetting)),JSON.parse(JSON.stringify(e.combinedPatterns)));return Object.keys(i).length>0&&(c=q(n,t.payload.selectedSetting,r,o)),Object(m.a)({},e,{selectedSetting:t.payload.selectedSetting,dataset:n,groups:0!=t.payload.selectedSetting?c:a})},changeGroupingSetting:function(e,t){return Object(m.a)({},e,{selectedGroupSetting:t.payload.selectedSetting,selectedSetting:0})},clearAnnotations:function(e,t){var n=JSON.parse(JSON.stringify(e.elements));return Object.keys(n).map(function(e){n[e].score=null}),Object(m.a)({},e,{elements:n})},renameThemeLocal:function(e,t){var n=t.payload,r=n.theme,a=n.new_name,o=JSON.parse(JSON.stringify(e.element_to_label)),c=JSON.parse(JSON.stringify(e.negative_element_to_label)),i=JSON.parse(JSON.stringify(e.themes)),l=JSON.parse(JSON.stringify(e.color_code));l[a]=l[r];var s=JSON.parse(JSON.stringify(e.selectedTheme));Object.keys(o).map(function(e){var t=o[e].indexOf(r);-1!=t&&(o[e][t]=a)}),Object.keys(c).map(function(e){var t=c[e].indexOf(r);-1!=t&&(c[e][t]=a)});var u=i.indexOf(r);return i[u]=a,s==r&&(s=a),Object(m.a)({},e,{element_to_label:o,themes:i,selectedTheme:s,color_code:l,negative_element_to_label:c})},groupAnnotations:function(e,t){var n=t.payload,r=n.ids,a=n.label,o=n.positive,c=JSON.parse(JSON.stringify(e.userAnnotationCount)),i=JSON.parse(JSON.stringify(e.userAnnotationTracker)),l=JSON.parse(JSON.stringify(e.element_to_label)),s=JSON.parse(JSON.stringify(e.negative_element_to_label));return 1==o?r.forEach(function(e){c+=1,i+=1,l[e]?l[e]=[].concat(Object(W.a)(l[e]),[a]):l[e]=[a]}):r.forEach(function(e){c+=1,s[e]?s[e]=[].concat(Object(W.a)(s[e]),[a]):s[e]=[a]}),Object(m.a)({},e,{element_to_label:l,negative_element_to_label:s,userAnnotationCount:c,userAnnotationTracker:i})},clearHighlight:function(e,t){var n=t.payload,r=(n.key,n.label,n.start),a=n.end,o=n.patterns,c=n.elementId,i=JSON.parse(JSON.stringify(e.explanation));return o&&o.forEach(function(e){var t=i[e][c]||[];t.forEach(function(n){t=t.filter(function(e){return e[1]!=r&&e[2]!=a}),i[e][c]=t})}),Object(m.a)({},e,{explanation:i})},getCache:function(e,t){var n=JSON.parse(JSON.stringify(e.selectedTheme));return null==ve[n]||void 0==ve[n]?Object(m.a)({},e,{cacheHit:!1}):Object(m.a)({},e,{patterns:ve[n]||[],combinedPatterns:ye[n]||{},explanation:Oe[n]||{},selectedPatterns:we[n]||{},modelAnnotationCount:Ee[n]||0,loadingCombinedPatterns:!1,loadingPatterns:!1,refresh:!1,cacheHit:!0})},abortApiCall:function(e,t){return fe&&(console.log("LOGG Aborting becase theme is ",JSON.parse(JSON.stringify(e.selectedTheme))),fe.abort()),Object(m.a)({},e,{loadingCombinedPatterns:!1,loadingPatterns:!1})}},extraReducers:(oe={},Object(M.a)(oe,K.fulfilled,function(e,t){var n=JSON.parse(JSON.stringify(e.selectedGroupSetting)),r=JSON.parse(JSON.stringify(e.selectedTheme)),a={},o={},c=0,i=t.payload,l=[],s=[],u={};return i.forEach(function(e){(l.push(e.id),u[e.id]=e,e.user_label)&&(a[e.id]=e.user_label,e.user_label&&r&&e.user_label.find(function(e){return e==r})&&(c+=1));e.negative_user_label&&(o[e.id]=e.negative_user_label)}),0==n&&(s=[l]),Object(m.a)({},e,{dataset:l,elements:u,ready:!0,totalDataset:i.length,loading:!1,groups:s,element_to_label:a,negative_element_to_label:o,userAnnotationCount:c})}),Object(M.a)(oe,se.pending,function(e,t){return Object(m.a)({},e,{loading:!0})}),Object(M.a)(oe,se.fulfilled,function(e,t){var n=t.payload,r=n.all_themes,a=JSON.parse(JSON.stringify(e.color_code)),o=JSON.parse(JSON.stringify(e.color_schema)),c=JSON.parse(JSON.stringify(e.element_to_label)),i=JSON.parse(JSON.stringify(e.negative_element_to_label)),l=n.old_theme,s=n.new_themes,u=n.pos_update_labels,d=n.neg_update_labels;s.forEach(function(e){u[e].forEach(function(t){c[t]?(c[t]=c[t].filter(function(e){return e!=l}),c[t].push(e)):c[t]=[e]}),d[e].forEach(function(t){i[t]?(i[t]=i[t].filter(function(e){return e!=l}),i[t].push(e)):i[t]=[e]})});var p=Object.keys(a).length,h=Object(m.a)({},a);r.forEach(function(e){a[e]?h[e]=a[e]:(h[e]=o[p],p+=1)});var f=_e(c,i,n.selected_theme);return Object(m.a)({},e,{loading:!1,selectedTheme:n.selected_theme,themes:n.all_themes,color_code:h,explanation:{},element_to_label:c,negative_element_to_label:i,userAnnotationCount:f})}),Object(M.a)(oe,ue.pending,function(e,t){return Object(m.a)({},e,{loading:!0})}),Object(M.a)(oe,ue.fulfilled,function(e,t){return Object(m.a)({},e,{loading:!1})}),Object(M.a)(oe,ne.fulfilled,function(e,t){}),Object(M.a)(oe,le.pending,function(e,t){return Object(m.a)({},e,{loading:!0})}),Object(M.a)(oe,le.fulfilled,function(e,t){var n=t.payload,r=JSON.parse(JSON.stringify(e.color_code)),a=JSON.parse(JSON.stringify(e.color_schema)),o=JSON.parse(JSON.stringify(e.element_to_label));n.pos_update.forEach(function(e){o[e]&&o[e].push(n.new_theme)});var c=Object.keys(r).length,i=Object(m.a)({},r);return n.all_themes&&n.all_themes.forEach(function(e){r[e]?i[e]=r[e]:(i[e]=a[c],c+=1)}),Object(m.a)({},e,{themes:n.all_themes,color_code:i,loading:!1,element_to_label:o})}),Object(M.a)(oe,R.pending,function(e,t){t.payload;return Object(m.a)({},e,{patternExp:null})}),Object(M.a)(oe,R.fulfilled,function(e,t){var n=t.payload;return Object.keys(n).map(function(e,t){return console.log(n[e][1])}),Object(m.a)({},e,{patternExp:n})}),Object(M.a)(oe,ce.fulfilled,function(e,t){var n=t.payload,r=JSON.parse(JSON.stringify(e.color_schema)),a={};return n.forEach(function(e,t){a["".concat(e)]=r[t]}),Object(m.a)({},e,{themes:n,color_code:a})}),Object(M.a)(oe,pe.pending,function(e,t){return Object(m.a)({},e,{loading:!0})}),Object(M.a)(oe,pe.fulfilled,function(e,t){var n,r=t.payload,a=JSON.parse(JSON.stringify(e.element_to_label)),o=JSON.parse(JSON.stringify(e.color_code)),c=JSON.parse(JSON.stringify(e.color_schema)),i=JSON.parse(JSON.stringify(e.negative_element_to_label));r.pos_update&&r.pos_update.forEach(function(e){a[e]=a[e].filter(function(e){return e!==r.deleted_theme})}),r.neg_update&&r.neg_update.forEach(function(e){i[e]=i[e].filter(function(e){return e!==r.deleted_theme})});var l=o[r.deleted_theme];(c=c.filter(function(e){return e!=l})).push(l);var s=_e(a,i,r.selected_theme);return Object(m.a)({},e,(n={loading:!1,selectedTheme:r.selected_theme,themes:r.all_themes},Object(M.a)(n,"loading",!1),Object(M.a)(n,"element_to_label",a),Object(M.a)(n,"negative_element_to_label",i),Object(M.a)(n,"userAnnotationCount",s),Object(M.a)(n,"explanation",{}),Object(M.a)(n,"color_schema",c),n))}),Object(M.a)(oe,ie.fulfilled,function(e,t){var n=t.payload,r=0;if(n){var a=JSON.parse(JSON.stringify(e.element_to_label)),o=JSON.parse(JSON.stringify(e.negative_element_to_label));r=_e(a,o,n)}return Object(m.a)({},e,{selectedTheme:n,userAnnotationCount:r})}),Object(M.a)(oe,he.pending,function(e,t){return Object(m.a)({},e,{loading:!0})}),Object(M.a)(oe,he.fulfilled,function(e,t){var n=t.payload,r=JSON.parse(JSON.stringify(e.element_to_label)),a=JSON.parse(JSON.stringify(e.negative_element_to_label)),o=_e(r,a,n[0]);return Object(m.a)({},e,{dataset:n[1],selectedTheme:n[0],explanation:{},combinedPatterns:{},patterns:[],userAnnotationCount:o,modelAnnotationCount:0,loading:!1,cacheHit:!0})}),Object(M.a)(oe,te.pending,function(e,t){}),Object(M.a)(oe,te.fulfilled,function(e,t){var n=t.payload;if(n&&0==n.positive)return Object(m.a)({},e);var r=n.id,a=n.phrase,o=n.label,c=JSON.parse(JSON.stringify(e.elements)),i=c[r].example.search(a);if(-1==i)return Object(m.a)({},e);var l=a.split(" ").length-1,s=(c[r].example.substring(0,i).split(" ").length,c[r].example.substring(i+1,c[r].example.length).split(" ").length),u=c[r].example.split(" ").length-1-s+1,d=u+l+1,p=JSON.parse(JSON.stringify(e.explanation));return p.USER_DEFINED||(p.USER_DEFINED={}),p.USER_DEFINED[r]||(p.USER_DEFINED[r]=[]),p.USER_DEFINED[r].push([c[r].example.split(" ").slice(u,d),u,d,o]),Object(m.a)({},e,{explanation:p})}),Object(M.a)(oe,B.pending,function(e,t){return Object(m.a)({},e,{loadingPatterns:!0,userAnnotationTracker:0,refresh:!1})}),Object(M.a)(oe,B.fulfilled,function(e,t){var n=t.payload;if(300==n.status_code||500==n.status_code)return Object(m.a)({},e,{loadingPatterns:!1,modelAnnotationCount:0,combinedPatterns:{},patterns:[]});var r=JSON.parse(JSON.stringify(e.selectedTheme)),a=JSON.parse(JSON.stringify(e.groups));return ve[r]=n,Object(m.a)({},e,{patterns:n,loadingPatterns:!1,cacheHit:!0,backupGroups:a})}),Object(M.a)(oe,D.fulfilled,function(e,t){var n=t.payload;return Object(m.a)({},e,{relatedExamples:n[0],relatedExplanation:n[1]})}),Object(M.a)(oe,U.pending,function(e,t){return Object(m.a)({},e,{loadingCombinedPatterns:!0})}),Object(M.a)(oe,X.pending,function(e,t){return Object(m.a)({},e,{loading:!0})}),Object(M.a)(oe,X.fulfilled,function(e,t){var n=t.payload;return n.data||(n.data=[JSON.parse(JSON.stringify(e.dataset))]),300==n.status_code&&(n.data=[JSON.parse(JSON.stringify(e.dataset))]),Object(m.a)({},e,{loading:!1,groups:n.data,backupGroups:n.data,groupNames:n.group_names})}),Object(M.a)(oe,U.fulfilled,function(e,t){var n=t.payload;if(n.message)return Object(m.a)({},e,{modelAnnotationCount:0,loadingCombinedPatterns:!1,loading:!1});for(var r=0,a=JSON.parse(JSON.stringify(e.selectedSetting)),o=JSON.parse(JSON.stringify(e.patterns)),c=JSON.parse(JSON.stringify(e.dataset)),l=JSON.parse(JSON.stringify(e.elements)),s=JSON.parse(JSON.stringify(e.groups)),u=0,d=Object.entries(n.scores);u<d.length;u++){var p=d[u],h=Object(i.a)(p,2),f=h[0],g=h[1];l[f].score=g,.5!=g&&(r+=1)}s=q(c,a,l,s);var b={};n.patterns.forEach(function(e){b[e.pattern]=e.weight;try{o[e.pattern].status=1}catch(t){console.log("Caught Error: pattern doesn't exist")}});var v=JSON.parse(JSON.stringify(e.selectedTheme));ye[v]=n,Oe[v]=n.explanation,we[v]=b,ve[v]=o,Ee[v]=r;var y=JSON.parse(JSON.stringify(e.explanation)),O=n.explanation||{};return O.USER_DEFINED=y.USER_DEFINED,Object(m.a)({},e,{combinedPatterns:n,loadingCombinedPatterns:!1,explanation:O,dataset:c,patterns:o,elements:l,modelAnnotationCount:r,selectedPatterns:b,groups:s})}),oe)}),Se=je.reducer,ke=je.actions,Ce=ke.updateElementLabel,Te=ke.updateNegativeElementLabel,Ne=ke.addTheme,Ie=ke.updatePatExp,Le=ke.updateBinaryMode,Fe=ke.changeSetting,Pe=ke.changeGroupingSetting,Je=ke.updatePatterns,Ae=ke.clearAnnotations,Re=ke.groupAnnotations,ze=ke.renameThemeLocal,Ge=ke.clearHighlight,De=ke.getCache,Be=ke.abortApiCall;function Ue(e){var t=r.useState(!1),n=Object(i.a)(t,2),a=n[0],o=n[1],c=Object(p.c)(function(e){return e.workspace}),l=Object(p.b)(),s=function(){l(U()).then(function(e){})};return r.createElement(h.a,{sx:{width:"100%",paddingBottom:"20px",overflow:"hidden",marginBottom:"5px"}},e.loading&&r.createElement(w.a,{width:"100%"}),r.createElement(r.Fragment,null,r.createElement(v.a,null,r.createElement(f.a,{stickyHeader:!0,"aria-label":"sticky table"},r.createElement(y.a,null,r.createElement(O.a,null,e.columns.map(function(e){return r.createElement(b.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth},sx:{backgroundColor:"#000000",color:"#FFFFFF"}},e.label)}),r.createElement(b.a,{sx:{backgroundColor:"#000000",color:"#FFFFFF"}}))),r.createElement(g.a,null,e.data&&e.data.map(function(t,n){return r.createElement(O.a,{hover:!0,role:"checkbox",tabIndex:-1,key:t.code,sx:Object(m.a)({},e.hovering==t.pattern&&{backgroundColor:"#f5f5f5"})},e.columns.map(function(n,a){var o=t[n.id];return r.createElement(b.a,{sx:Object(m.a)({},0==a&&{fontWeight:700}),key:n.id,align:n.align},0==a&&r.createElement(E.a,{onClick:function(n){return function(t,n){e.handelOpenModal(n)}(0,t)}},r.createElement(T.a,null)),"number"===typeof o?parseFloat(o).toFixed(2):o)}),!c.loadingPatterns&&!c.loadingCombinedPatterns&&r.createElement(r.Fragment,null,r.createElement(b.a,{key:"filter"},0==e.index&&r.createElement(x.a,{title:e.hovering==t.pattern?"Turn-off filter":"Filter with pattern"},r.createElement(E.a,{onClick:function(){return function(t){!a&&e.setHovering?(e.setHovering(t.pattern),o(!0)):a&&e.setHovering&&(e.hovering==t.pattern?(o(!1),e.setHovering(null)):e.setHovering(t.pattern))}(t)}},r.createElement(k.a,{color:e.hovering==t.pattern?"primary":"disabled"}))),1==t.status?r.createElement(E.a,null,r.createElement(j.a,{onClick:function(){return function(e){l(Je({pattern:e.pattern,status:0})),l(z({theme:c.selectedTheme,pattern:e.pattern})).then(function(e){s()})}(t)}})):r.createElement(E.a,null,r.createElement(I.a,{onClick:function(){return function(e){l(Je({pattern:e.pattern,status:1})),l(G({theme:c.selectedTheme,pattern:e.pattern})).then(function(e){s()})}(t)}})))))}))))))}var He=n(314),Me=n(222),We=n(283),Ye=n(316),Ke=n(301),Ve=n(293),Xe=n(309),qe=n(292),Qe=n(290);function Ze(e){var t=Object(p.c)(function(e){return e.workspace}),n=Object(p.b)(),a=t.orderSetting,o=r.useState(null),c=Object(i.a)(o,2),l=(c[0],c[1]);return r.createElement(Xe.a,null,r.createElement(qe.a,{id:"demo-simple-select-label"},"Rank By"),r.createElement(Qe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t.selectedSetting,label:"Rank By",onChange:function(e){return r=e.target.value,n(Fe({selectedSetting:r})),0==r&&0==t.selectedGroupSetting&&n(X({selectedSetting:0})),void l(null);var r},size:"small"},Object.keys(a).map(function(e,t){return r.createElement(Ve.a,{key:"ordering_".concat(e),value:e},a[e])})))}function $e(e){var t=Object(p.c)(function(e){return e.workspace}),n=Object(p.b)(),a=t.groupingSettings,o=r.useState(""),c=Object(i.a)(o,2),l=(c[0],c[1],r.useState(null)),s=Object(i.a)(l,2),u=s[0],d=s[1];Boolean(u);return r.createElement(Xe.a,null,r.createElement(qe.a,{id:"demo-simple-select-label"},"Group By"),r.createElement(Qe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t.selectedGroupSetting,label:"Group By",onChange:function(e){return function(e,t){n(Pe({selectedSetting:e.target.value})),n(X({selectedSetting:e.target.value})),d(null)}(e,e.target.value)},size:"small"},Object.keys(a).map(function(e,n){return r.createElement(Ve.a,{key:"grouping_".concat(e),value:e,disabled:1==e&&Object.keys(t.selectedPatterns).length<1||2==e&&Object.keys(t.element_to_label).length<1},a[e])})))}var et=n(315),tt=n(282),nt=n(313),rt=n(299),at=n(280),ot=n(24),ct=Object(at.a)(function(e){return{root:{marginLeft:e.spacing(2),marginRight:e.spacing(2),flexGrow:1,alignItems:"center",justifyContent:"center"},button:{margin:"".concat(e.spacing(1)," auto")},progress:{height:"50px"},colorPrimary:{backgroundColor:"green"},barColorPrimary:{backgroundColor:"red"},bar:function(e){return{backgroundColor:e.color}}}});Object(ot.a)(function(e){return{root:{height:10,borderRadius:5},colorPrimary:{backgroundColor:"#e2e8e5 !important"},bar:function(e){return{borderRadius:5,backgroundColor:"".concat(e.bgColor," !important")}}}})(nt.a);function it(e){var t=ct();return a.a.createElement("div",{className:t.root},a.a.createElement(rt.a,{onClick:function(){e.retrain()},size:"small",className:t.button,sx:{backgroundColor:e.color},variant:"contained"},a.a.createElement("div",{style:{fontWeight:"bold"}},"Retrain in"," ",e.userAnnotationTracker<e.annotationPerRetrain?"".concat(e.annotationPerRetrain-e.userAnnotationTracker):"0")))}var lt=n(62),st=n.n(lt),ut=n(294),dt=n(32);function pt(e){var t=Object(p.b)(),n=Object(p.c)(function(e){return e.workspace}),r=(Object(l.n)(),a.a.useState(!1)),o=Object(i.a)(r,2),c=o[0],s=o[1],m=a.a.useState(0),h=Object(i.a)(m,2),f=h[0],g=h[1],b=a.a.useState(0),v=Object(i.a)(b,2),y=v[0],O=v[1];a.a.useState(0);var w=a.a.useState(null),E=Object(i.a)(w,2),x=E[0],_=E[1];a.a.useEffect(function(){_(n.color_schema[n.themes.length])},[n.themes]),a.a.useEffect(function(){e.userAnnotationCount&&e.totalDataset>0&&g(e.userAnnotationCount/e.totalDataset*100)},[e.userAnnotationCount]),a.a.useEffect(function(){null!=n.modelAnnotationCount&&e.totalDataset>0&&O(n.modelAnnotationCount/e.totalDataset*100)},[e.modelAnnotationCount,n.modelAnnotationCount]);return a.a.createElement(He.a,{ml:2,color:"inherit",maxHeight:"140px"},a.a.createElement(u.a,{maxHeight:"35px",sx:{backgroundColor:"#000000",display:"inline"},width:"100vw"},a.a.createElement(Me.a,{variant:"h5",style:{display:"inline",fontFamily:"Indie Flower",color:"#FFFFFF",width:"0px"}},"PaTAT")),a.a.createElement(d.a,{direction:"row",ml:2,justifyContent:"center",spacing:1,divider:a.a.createElement(tt.a,{orientation:"vertical",flexItem:!0}),alignItems:"center"},a.a.createElement(Ze,null),a.a.createElement($e,null),a.a.createElement(it,{color:e.color_code[e.selectedTheme],retrain:e.retrain,userAnnotationTracker:e.userAnnotationTracker,annotationPerRetrain:e.annotationPerRetrain,value:e.userAnnotationCount%e.annotationPerRetrain/e.annotationPerRetrain*100||0}),a.a.createElement(d.a,{sx:{alignContent:"center",alignItems:"center",justifyContent:"center",flexGrow:1},ml:2,mr:2,direction:"row",spacing:1},a.a.createElement(d.a,{p:2,sx:{alignContent:"center",alignItems:"center",justifyContent:"center"},ml:2,mr:2,direction:"column"},a.a.createElement(u.a,{sx:{position:"relative",display:"inline-flex"}},a.a.createElement(et.a,{thickness:20,variant:"determinate",value:f,sx:{color:e.selectedTheme&&e.color_code[e.selectedTheme]?Object(dt.d)(e.color_code[e.selectedTheme],.5):"#FFFFFF"}}),a.a.createElement(u.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement(Me.a,{variant:"caption",component:"div"},"".concat(Math.round(f),"%")))),a.a.createElement(Me.a,{variant:"caption",color:"textSecondary"},"You")),a.a.createElement(d.a,{p:2,sx:{alignContent:"center",alignItems:"center",justifyContent:"center"},ml:2,mr:2,direction:"column"},a.a.createElement(u.a,{sx:{position:"relative",display:"inline-flex"}},a.a.createElement(et.a,{thickness:20,variant:"determinate",value:y,sx:{color:e.selectedTheme&&e.color_code[e.selectedTheme]?Object(dt.d)(e.color_code[e.selectedTheme],.5):"#FFFFFF"}}),a.a.createElement(u.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement(Me.a,{variant:"caption",component:"div"},"".concat(Math.round(y),"%")))),a.a.createElement(Me.a,{variant:"caption",color:"textSecondary"},"Model"))),a.a.createElement(d.a,{p:2,sx:{minWidth:"200px"}},a.a.createElement(Xe.a,{fullWidth:!0},a.a.createElement(qe.a,{id:"demo-simple-select-label"},"Theme"),a.a.createElement(Qe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:e.selectedTheme?e.selectedTheme:"",label:"Theme",onChange:function(n){return function(n){"add_new_theme"==n.target.value?(n.preventDefault(),s(!c)):(e.setTheme(n.target.value),t(Ae()))}(n)},displayEmpty:!0},e.themes.map(function(t,n){return a.a.createElement(Ve.a,{size:"small",value:t,key:"theme_".concat(t)},a.a.createElement(Ke.a,{key:"menuitem_".concat(t,"_light"),label:"",color:"primary",sx:{backgroundColor:e.color_code[t],width:20,height:20,marginRight:1},size:"small"})," ",t)}),a.a.createElement(Ve.a,{size:"small",onKeyDown:function(e){return e.stopPropagation()},onClickCapture:function(e){e.stopPropagation(),c||(_(n.color_schema[n.themes.length]),s(!c))},value:"add_new_theme",key:"theme_add_new"},c?a.a.createElement(u.a,{sx:{display:"flex",alignItems:"flex-end",width:"100%"}},a.a.createElement(Ke.a,{key:"menuitem_new_theme_light".concat(e.themes.length),label:"",color:"primary",sx:{backgroundColor:x,width:20,height:20,marginRight:1,mr:1,my:.5},size:"small"}),a.a.createElement(ut.a,{size:"small",onKeyDown:function(r){"Enter"===r.key&&""!=r.target.value.trim()&&(t(Ne({theme:r.target.value,index:e.themes.length})),t(me({theme:r.target.value})),null==n.selectedTheme&&t(he({theme:r.target.value})),s(!1))},id:"input-with-sx",label:"New Theme",variant:"standard",inputRef:function(e){return e&&e.focus()},onChange:function(e){e.target.value=e.target.value.toLowerCase()},placeholder:"Theme",multiline:!0,rowsMax:"3",fullWidth:!0})):a.a.createElement(rt.a,{variant:"outlined",startIcon:a.a.createElement(st.a,null)},"Add Theme"))))),a.a.createElement(We.a,{control:a.a.createElement(d.a,{direction:"row",spacing:1,alignItems:"center"},a.a.createElement(Me.a,null,"Multi-label"),a.a.createElement(Ye.a,{disabled:0==n.themes.length||null==n.selectedTheme,style:{color:e.color_code[e.selectedTheme]},value:e.binary_mode,onChange:function(){t(Le()),t(ne({binary_mode:e.binary_mode}))}}),a.a.createElement(Me.a,null,"Binary"))})))}var mt=n(317),ht=n(312),ft=n(319),gt=n(288),bt=n(278),vt=n(133),yt=n.n(vt),Ot=n(132),wt=n.n(Ot),Et=n(318),xt=n(112),_t=n.n(xt),jt=n(128),St=n.n(jt),kt=n(164),Ct=n.n(kt),Tt=(n(148),n(302));function Nt(e){var t=Object(p.c)(function(e){return e.workspace}),n=r.useState(t.element_to_label[e.element.id]&&t.element_to_label[e.element.id].includes(t.selectedTheme)?1:t.negative_element_to_label[e.element.id]&&t.negative_element_to_label[e.element.id].includes(t.selectedTheme)?0:null),a=Object(i.a)(n,2),o=a[0],c=a[1],l=r.useState([]),s=Object(i.a)(l,2),u=s[0],m=s[1],h=function(t,n){c(n),e.handleBatchLabel(t,n)};Object(r.useEffect)(function(){if(e.highlight){var t=[];e.highlight.forEach(function(n,r){if(e.highlightAsList){var a=n[0]&&n[0].join(" ");a&&t.push(a)}else t.push(n)}),m(t)}},[]);return r.createElement(r.Fragment,null,e.show?r.createElement(Tt.a,{onClick:function(){}},r.createElement(d.a,{sx:{backgroundColor:"#eeeeee55",width:"100%",justifyContent:"space-between"},direction:"row",alignItems:"top"},r.createElement(mt.a,{color:"text.secondary",align:"left",variant:"body2",display:"block",gutterBottom:!0},!e.highlight&&r.createElement(r.Fragment,null,e.element.example),e.highlight&&r.createElement(Ct.a,{highlightTag:function(t){var n=t.children;t.highlightIndex;return r.createElement("span",{className:"highlight",style:{backgroundColor:e.color}},n)},searchWords:u,textToHighlight:e.element.example})),e.handleBatchLabel&&r.createElement(d.a,{direction:"row",alignItems:"top"},r.createElement(Et.a,{onClick:function(){return h(e.element.id,1)}}," ",r.createElement(_t.a,{color:1==o?"success":"disabled"})),r.createElement(Et.a,{onClick:function(){return h(e.element.id,0)}}," ",r.createElement(St.a,{color:0==o?"error":"disabled"}))))):r.createElement(r.Fragment,null))}var It=n(320),Lt=n(168),Ft={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"1px solid #cccccc",boxShadow:24,p:4};function Pt(){var e=Object(p.c)(function(e){return e.workspace});return r.createElement(ht.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.modal+1}},open:e.loading},r.createElement(et.a,{color:"inherit",sx:Object(m.a)({},Ft,{flexShrink:0,left:0,right:0,margin:"0 auto",opacity:.7,backgroundColor:e.color_code[e.selectedTheme]})}))}var Jt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:900,bgcolor:"background.paper",border:"1px solid #cccccc",boxShadow:24,p:4};function At(e){var t=e.open,n=e.setOpen,a=e.theme,o=(e.action,e.actionType),c=e.retrain,l=Object(p.c)(function(e){return e.workspace}),s=Object(p.b)(),u=r.useState(null),h=Object(i.a)(u,2),f=h[0],g=h[1],b=r.useState([{},{}]),v=Object(i.a)(b,2),y=v[0],O=v[1],w=r.useState([[],[]]),E=Object(i.a)(w,2),x=E[0],_=E[1],j=r.useState(["",""]),S=Object(i.a)(j,2),k=S[0],C=S[1],T=r.useState({}),N=Object(i.a)(T,2),I=(N[0],N[1],r.useState(!1)),L=Object(i.a)(I,2),F=(L[0],L[1],r.useState(null)),P=Object(i.a)(F,2),J=P[0],A=P[1],R=r.useState(!1),z=Object(i.a)(R,2),G=z[0],D=z[1],B=r.useState(!1),U=Object(i.a)(B,2),H=U[0],M=U[1],Y=r.useState(a),K=Object(i.a)(Y,2),X=K[0],q=K[1],Q=r.useState(""),Z=Object(i.a)(Q,2),$=Z[0],ee=Z[1],te=r.useState(""),ne=Object(i.a)(te,2),re=ne[0],ae=ne[1],oe=r.useState(null),ce=Object(i.a)(oe,2),ie=ce[0],me=ce[1];r.useEffect(function(){"merge"==o&&ae("".concat(k[0],"_").concat(k[1]))},[k[0],k[1]]),r.useEffect(function(){q(a)},[a]);var he=function(e){switch(e){case"delete":t=l.selectedTheme,s(pe({theme:t})).then(function(){s(Ae()),c()}),ge();break;case"split":be(),ge();break;case"rename":""!=X.trim()&&(s(ze({theme:l.selectedTheme,new_name:X.trim()})),s(de({theme:l.selectedTheme,new_name:X.trim()})),ge());break;case"merge":k[0]&&k[1]&&""!=k[1].trim()&&(s(le({theme1:l.selectedTheme,theme2:k[1],new_theme:""==$.trim()?re:$})).then(function(e){ae(""),ee("")}),ge())}var t},fe=function(e,t){var n=Object(W.a)(k);n[t]=e,C(n)};r.useEffect(function(){"merge"!=o&&"split"!=o||(D(!0),ae("".concat(k[0])))},[o]),r.useEffect(function(){t&&(me(l.color_schema[l.themes.length]),"split"==o?(Object.keys(l.explanation).length<=1?(A(1),s(V({theme:l.selectedTheme})).then(function(e){D(!1),O([e.payload,{}])})):(A(0),_([Object.keys(l.explanation),[]])),C([l.selectedTheme,""])):"delete"==o?C(["hello","there"]):"merge"==o&&(D(!0),C(["".concat(l.selectedTheme),""]),s(V({theme:l.selectedTheme})).then(function(e){var t=y;t[0]=e.payload,O(Object(W.a)(t)),D(!1)})))},[o,t]);var ge=function(){n(!1),O([{},{}]),A(null)},be=function(){var e={name:k[0],data:y[0]},t={name:k[1],data:y[1]};!function(e,t,n){s(se({theme:e,group1:t,group2:n})).then(function(e){})}(l.selectedTheme,e,t),ge(),s(Ae()),c()},ve=function(e,t,n){var r=Object(W.a)(x),a=r[e].splice(n,1);r[t].push(a[0]),_(r)},ye=function(e,t,n){var r=Object(W.a)(y),a=Object(W.a)(r[e][n]);r[t][n]=a,delete r[e][n],O(r)};return r.createElement(gt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t,onClose:ge,closeAfterTransition:!0,BackdropComponent:ht.a,BackdropProps:{timeout:500},sx:{overflow:"scroll"}},r.createElement(bt.a,{in:t},r.createElement(ft.a,{sx:Object(m.a)({},Jt,{overflow:"hidden"})},r.createElement(mt.a,{id:"transition-modal-title",variant:"h6",component:"h2"},"Updating"," ",r.createElement(Ke.a,{key:"menuitem_".concat(l.selectedTheme,"_light"),label:"",color:"primary",sx:{backgroundColor:l.color_code[l.selectedTheme],width:20,height:20,marginRight:1},size:"small"})," ",l.selectedTheme," - ",o),r.createElement(tt.a,null),"split"==o&&r.createElement(d.a,{id:"transition-modal-description",sx:{mt:2,position:"relative",overflow:"hidden",height:"70vh"},direction:"column",spacing:5},r.createElement(r.Fragment,null,r.createElement(d.a,{direction:"row",style:{minHeight:"50vh"}},r.createElement(d.a,{divider:r.createElement(tt.a,{orientation:"horizontal",flexItem:!0}),id:"transition-modal-description",direction:"column",width:450,spacing:5,sx:{maxHeight:"50vh",overflow:"scroll"}},r.createElement(d.a,{sx:{position:"sticky",top:"0px",backgroundColor:"#FFFFFF",zIndex:100}},r.createElement(ut.a,{id:"standard-basic",variant:"outlined",value:k[0],onChange:function(e){fe(e.target.value.toLowerCase(),0)},InputProps:{startAdornment:r.createElement(Ke.a,{label:"",color:"primary",sx:{backgroundColor:l.color_code[l.selectedTheme],width:20,height:20,marginRight:1},size:"small"})}})),0==J?r.createElement(r.Fragment,null,x&&x[0].map(function(e,t){return r.createElement(d.a,{direction:"row"},r.createElement(mt.a,null,e),r.createElement(Et.a,{onClick:function(){ve(0,1,t)}},r.createElement(wt.a,null)))})):r.createElement(r.Fragment,null,G&&1==J&&r.createElement(r.Fragment,null,r.createElement(et.a,null)),y&&y[0]&&Object.keys(y[0]).length>0&&Object.keys(y[0]).map(function(e,t){return r.createElement(d.a,{direction:"row",key:"groupsent_stack_".concat(e)},r.createElement(Nt,{color:l.color_code[l.selectedTheme]?Object(dt.d)(l.color_code[l.selectedTheme],.5):"blue",show:!0,element:l.elements[e],handleBatchLabel:null,sentence:y[0][e][0],key:"groupsent_".concat(e)}),r.createElement(Et.a,{onClick:function(){ye(0,1,e)}},r.createElement(wt.a,null)))}))),r.createElement(d.a,{divider:r.createElement(tt.a,{orientation:"horizontal",flexItem:!0}),id:"transition-modal-description",direction:"column",width:450,spacing:5,sx:{maxHeight:"50vh",overflow:"scroll"}},r.createElement(d.a,{sx:{position:"sticky",top:"0px",backgroundColor:"#FFFFFF",zIndex:100}},r.createElement(ut.a,{placeholder:"Theme",id:"standard-basic",variant:"outlined",value:k[1],onChange:function(e){fe(e.target.value.toLowerCase(),1)},InputProps:{startAdornment:r.createElement(Ke.a,{label:"",color:"primary",sx:{backgroundColor:ie,width:20,height:20,marginRight:1},size:"small"})}})),0==J?r.createElement(r.Fragment,null,x[1].map(function(e,t){return r.createElement(d.a,{direction:"row"},r.createElement(Et.a,{onClick:function(){ve(1,0,t)}},r.createElement(yt.a,null)),r.createElement(mt.a,null,e))})):r.createElement(r.Fragment,null,y&&y[1]&&Object.keys(y[1]).length>0&&Object.keys(y[1]).map(function(e,t){return r.createElement(d.a,{direction:"row",key:"groupsent_stack_".concat(e)},r.createElement(Et.a,{onClick:function(){ye(1,0,e)}},r.createElement(yt.a,null)),r.createElement(Nt,{color:l.color_code[l.selectedTheme]?Object(dt.d)(l.color_code[l.selectedTheme],.5):"".concat(Object(dt.d)("#ececec",.5)),show:!0,element:l.elements[e],handleBatchLabel:null,sentence:y[1][e][0],key:"groupsent_".concat(e)}))})))),r.createElement(d.a,{direction:"row",spacing:5},Object.keys(l.explanation).length>1&&r.createElement(It.a,{variant:"extended",m:10,color:"primary",onClick:function(){0==J?(A(1),s(ue({theme:l.selectedTheme,patterns:x[1],new_theme_name:k[1]})).then(function(e){D(!1),O([e.payload.group1,e.payload.group2])})):A(0)}},0==J?"Next":"Back"),r.createElement(It.a,{variant:"extended",m:10,color:"primary",onClick:function(){return be()},disabled:!y||y&&(0==Object.keys(y[0]).length||0==Object.keys(y[1]).length)||""==k[0].trim()||""==k[1].trim()},"Update")))),"rename"==o&&r.createElement(d.a,{direction:"row",spacing:5,m:5},r.createElement(ut.a,{inputRef:function(e){return e&&e.focus()},placeholder:"Theme",value:X,onChange:function(e){return q(e.target.value.toLowerCase())}}),r.createElement(rt.a,{variant:"contained",onClick:function(){he(o)}},"Rename")),"delete"==o&&r.createElement(d.a,{spacing:3,mt:3},r.createElement(mt.a,{id:"transition-modal-title",variant:"body2",gutterBottom:!0},"Are you sure you want to delete"," ",r.createElement(Ke.a,{label:"",color:"primary",sx:{backgroundColor:l.color_code[l.selectedTheme],width:20,height:20,marginRight:1},size:"small"})," ",l.selectedTheme,"?"),r.createElement(d.a,{direction:"row",spacing:5},r.createElement(rt.a,{size:"small",sx:{backgroundColor:"#bdbdbd"},variant:"contained",onClick:function(){return ge()}},"Cancel"),r.createElement(rt.a,{size:"small",color:"error",variant:"contained",onClick:function(){he(o)}},"Delete"))),"merge"==o&&r.createElement(r.Fragment,null,r.createElement(d.a,{sx:{position:"sticky",top:"0px",backgroundColor:"#FFFFFF",zIndex:100}},r.createElement(ut.a,{id:"standard-basic",variant:"outlined",value:$,placeholder:re,onChange:function(e){ee(e.target.value.toLowerCase())},InputProps:{startAdornment:r.createElement(Ke.a,{label:"",color:"primary",sx:{backgroundColor:ie,width:20,height:20,marginRight:1},size:"small"})}})),r.createElement(d.a,{id:"transition-modal-description",sx:{mt:2,overflow:"hidden",position:"relative",height:"50vh"},direction:"row",spacing:5,divider:r.createElement(tt.a,{orientation:"vertical",flexItem:!0})},r.createElement(d.a,{divider:r.createElement(tt.a,{orientation:"horizontal",flexItem:!0}),id:"transition-modal-description",direction:"column",width:450,spacing:5,sx:{maxHeight:"80vh",overflow:"scroll"}},r.createElement(mt.a,{id:"transition-modal-title",variant:"h6",component:"h2",sx:{position:"sticky",top:"0px",backgroundColor:"#FFFFFF",zIndex:5}},r.createElement(Ke.a,{label:"",color:"primary",sx:{backgroundColor:l.color_code[k[0]],width:20,height:20,marginRight:1},size:"small"})," ",k[0]),y&&y[0]&&Object.keys(y[0]).length>0&&Object.keys(y[0]).map(function(e,t){return r.createElement(d.a,{direction:"row",key:"groupsent_stack_".concat(e)},r.createElement(Nt,{color:l.color_code[l.selectedTheme]?Object(dt.d)(l.color_code[l.selectedTheme],.5):"".concat(Object(dt.d)("#ececec",.5)),show:!0,element:l.elements[e],handleBatchLabel:null,sentence:y[0][e][0],key:"groupsent_".concat(e)}))}),G&&r.createElement(r.Fragment,null,r.createElement(et.a,null))),r.createElement(d.a,{id:"transition-modal-description",direction:"column",width:450,spacing:5,sx:{maxHeight:"80vh",overflow:"scroll"}},r.createElement(mt.a,{id:"transition-modal-title",variant:"h6",component:"h2",sx:{cursor:"pointer",position:"sticky",top:"0px",backgroundColor:"#FFFFFF",zIndex:5},onClick:function(e){g(e.target)}},r.createElement(Ke.a,{key:"menuitem_".concat(k[1],"_light"),label:"",color:"primary",sx:{backgroundColor:l.color_code[k[1]],width:20,height:20,marginRight:1},size:"small"})," ",k[1].trim().length>0?k[1]:"Select Theme"),r.createElement(Lt.a,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:f,open:Boolean(f),onClose:function(){return g(null)},PaperProps:{style:{width:"20ch"}}},l.themes.map(function(e){return r.createElement(Ve.a,{key:e,disabled:e==l.selectedTheme,onClick:function(t){M(!0),function(e){var t=k;t[1]=e,C(t),g(null),s(V({theme:e})).then(function(e){M(!1);var t=y;t?t[1]=e.payload:t=[{},e.payload],O(Object(W.a)(t))})}(e)}},r.createElement(Ke.a,{key:"menuitem_".concat(e,"_light"),label:"",color:"primary",sx:{backgroundColor:l.color_code[e],width:20,height:20,marginRight:1},size:"small"}),e)})),r.createElement(tt.a,{orientation:"horizontal",flexItem:!0}),y&&y[1]&&Object.keys(y[1]).length>0&&Object.keys(y[1]).map(function(e,t){return r.createElement(d.a,{direction:"row",key:"groupsent_stack_".concat(e)},r.createElement(Nt,{color:l.color_code[l.selectedTheme]?Object(dt.d)(l.color_code[l.selectedTheme],.5):"".concat(Object(dt.d)("#ececec",.5)),show:!0,element:l.elements[e],handleBatchLabel:null,sentence:"sentences[1][key][0]",key:"groupsent_".concat(e)}))}),H&&r.createElement(r.Fragment,null,r.createElement(et.a,null)))),r.createElement(tt.a,{orientation:"horizontal",flexItem:!0}),r.createElement(rt.a,{sx:{marginTop:5},onClick:function(){return he(o)},variant:"contained"},"Merge")))))}function Rt(e){var t=Object(p.c)(function(e){return e.workspace}),n=(Object(p.b)(),r.useState(null)),a=Object(i.a)(n,2),o=a[0],c=(a[1],r.useState(null)),l=Object(i.a)(c,2),s=l[0],u=l[1],m=r.useState(!1),h=Object(i.a)(m,2),f=h[0],g=h[1];return r.createElement(r.Fragment,null,r.createElement(At,{open:f,setOpen:g,action:o,actionType:s,retrain:e.retrain,theme:t.selectedTheme}),r.createElement(d.a,{direction:"row",spacing:0},r.createElement(mt.a,{variant:"h5"},"Patterns for"," ",r.createElement(Ke.a,{key:"menuitem_new_theme_light_summary",label:"",color:"primary",sx:{backgroundColor:e.color,width:20,height:20,marginRight:1,mr:1,my:.5},size:"small"}),e.selectedTheme),r.createElement(rt.a,{onClick:function(e){u("rename"),g(!0)}},"Rename"),r.createElement(tt.a,{orientation:"vertical"}),r.createElement(rt.a,{onClick:function(e){u("merge"),g(!0)}},"Merge"),r.createElement(tt.a,{orientation:"vertical"}),r.createElement(rt.a,{onClick:function(e){u("split"),g(!0)}},"Split"),r.createElement(tt.a,{orientation:"vertical"}),r.createElement(rt.a,{onClick:function(e){u("delete"),g(!0)}},"Delete")))}function zt(e){var t=Object(p.c)(function(e){return e.workspace}),n=a.a.useState([]),r=Object(i.a)(n,2),o=r[0],c=r[1];return a.a.useEffect(function(){if(t.groups&&1==t.groups.length)c.apply(void 0,Object(W.a)(t.groups));else if(t.groups&&t.groups.length>1){var e=[];t.groups.forEach(function(t){e=e.concat(t)}),c(e)}},[t.groups]),a.a.createElement(d.a,{mt:"145px",direction:"column",sx:Object(m.a)({},!e.show&&{visibility:"hidden"},{backgroundColor:"none",height:"84vh",width:"10px",position:"absolute",left:"0vw",zIndex:10})},o&&o.length>0&&o.map(function(e){var n=t.elements[e];return a.a.createElement(h.a,{sx:{backgroundColor:n.score&&n.score>.5&&t.color_code[t.selectedTheme]?"".concat(Object(dt.b)(t.color_code[t.selectedTheme],(n.score-.5)/.5)):n.score&&n.score<.5?"".concat(Object(dt.d)("#fc0b22",1-n.score)):"none",height:"".concat((window.innerHeight-140)/o.length,"px"),width:"15px",borderRadius:"0px"},key:"scroller_".concat(n.id)})}),a.a.createElement(h.a,{sx:{height:"".concat((window.innerHeight-140)/o.length,"px"),width:"15px",backgroundColor:"#b3bcff",borderRadius:"0px",position:"absolute",top:"".concat(e.scrollPosition*(window.innerHeight-140),"px"),border:"none",opacity:"1"}}))}var Gt=n(298);function Dt(e){var t=r.useState(null),n=Object(i.a)(t,2),a=n[0],o=(n[1],Object(p.c)(function(e){return e.workspace})),c=e.x,l=e.y;r.useEffect(function(){},[a]);var s=Boolean(a)?"simple-popover":void 0;return r.createElement(Gt.a,{id:s,open:e.open,anchorPosition:{left:c,top:l},anchorReference:"anchorPosition",onClose:e.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"left"},style:{borderRadius:"10px"}},o.selectedTheme?r.createElement(d.a,{sx:{padding:"5px",border:"solid 3px ".concat(o.color_code[o.selectedTheme]),backgroundColor:"#FFFFFF11",borderRadius:"10px"},direction:"row",spacing:5},r.createElement(rt.a,{backgroundColor:o.color_code[o.selectedTheme],size:"small",onClick:function(){return t=1,void e.handlePhraseLabeling(t);var t},variant:"outlined",startIcon:r.createElement(_t.a,{color:"success"})}," ",o.selectedTheme)):r.createElement(mt.a,null,"Please select theme for phrase level annotation\xdf"))}var Bt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"1px solid #cccccc",boxShadow:24,p:4},Ut=function(e){return r.createElement(d.a,null,r.createElement(mt.a,{variant:"h6",component:"h2",sx:{backgroundColor:"#FFFFFF",position:"sticky",top:"0px",zIndex:10}},e.value),r.createElement(mt.a,{variant:"overline"},e.is_softmatch?r.createElement(r.Fragment,null,"Soft Match"):r.createElement(r.Fragment,null,e.explanation[0])," "),r.createElement(tt.a,{orientation:"horizontal",flexItem:!0}),e.is_softmatch&&r.createElement(d.a,{spacing:2,mt:2},e.explanation.map(function(t,n){return r.createElement(Ke.a,{onClick:function(e){},onDelete:function(){return e.handleDelete(e.value,t,e.value)},key:"soft_".concat(t,"_").concat(n),label:t})})))};function Ht(e){var t=e.open,n=e.setOpen,a=e.setRow,o=e.row,c=function(e,t,n){l(Ie({pattern:e,soft_match:t})),l(H({pivot_word:n,similar_word:t}))},i=Object(p.c)(function(e){return e.workspace}),l=Object(p.b)();r.useEffect(function(){t&&function(e){l(R({pattern:e.pattern}))}(o)},[t]);return r.createElement(gt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t,onClose:function(){n(!1),a(null)},closeAfterTransition:!0,BackdropComponent:ht.a,BackdropProps:{timeout:500}},r.createElement(bt.a,{in:t},r.createElement(ft.a,{sx:Bt,style:{minwidth:"40vw",maxWidth:"50vw",maxHeight:"80vh",minHeight:"40vh",overflow:"scroll"}},r.createElement(mt.a,{id:"transition-modal-title",variant:"h6",component:"h2"},o&&o.pattern),r.createElement(tt.a,null),r.createElement(d.a,{divider:r.createElement(tt.a,{orientation:"vertical",flexItem:!0}),id:"transition-modal-description",sx:{mt:2},direction:"row",spacing:2},i.patternExp&&Object.keys(i.patternExp).map(function(e,t){return r.createElement(Ut,{handleDelete:c,key:"exp_".concat(t,"_").concat(e),value:e,is_softmatch:i.patternExp[e][0],explanation:i.patternExp[e][1]})}),!i.patternExp&&r.createElement(et.a,{sx:Object(m.a)({},Bt,{flexShrink:0,left:0,right:0,margin:"0 auto",opacity:.7,backgroundColor:i.color_code[i.selectedTheme]})})))))}var Mt=n(165),Wt=n.n(Mt);function Yt(e){var t=r.useState(null),n=Object(i.a)(t,2),a=n[0],o=(n[1],r.useState([])),c=Object(i.a)(o,2),l=(c[0],c[1],r.useState(!1)),s=Object(i.a)(l,2),u=s[0],d=s[1],h=Object(p.c)(function(e){return e.workspace}),f=Object(p.b)(),g=function(){for(var t=[],n=e.start;n<e.end;n++)t=[].concat(Object(W.a)(t),Object(W.a)(e.matchedWith[n]));return t=Object(W.a)(new Set(t))},b=function(){e.matched&&(d(!1),e.setPopoverAnchor(null),e.setPopoverContent(null))};Boolean(a);return r.createElement("span",{onMouseEnter:function(t){e.matched&&(d(!0),g(),e.setPopoverAnchor(t.currentTarget),e.setPopoverContent(function(e){var t=g();return r.createElement(r.Fragment,null,t.map(function(e,t){return r.createElement(r.Fragment,null,r.createElement("em",{key:"pat_".concat(t)},e),":"," ","USER_DEFINED"==e?"-":"".concat(parseFloat(h.selectedPatterns[e]).toFixed(2)),r.createElement("br",null))}))}()))},onMouseLeave:b,style:Object(m.a)({userSelect:"text"},e.matched&&(h.selectedPatterns[e.patterns[0]]>0||"USER_DEFINED"==e.patterns[0])&&{backgroundColor:h.color_code[h.selectedTheme]?"".concat(Object(dt.d)(h.color_code[h.selectedTheme],.5)):"".concat(Object(dt.d)("#ececec",.5))}),className:e.matched?h.selectedPatterns[e.patterns[0]]<0?"highlight_red":"highlight":"non-highlight"},"".concat(e.word.split(" ").slice(0,-1).join(" ")," "),e.matched&&u&&r.createElement(Et.a,{style:{position:"relative",top:"-15px",right:"-10px",width:"25px",height:"25px"},size:"small",onClick:function(){b(),e.word,e.deleteMatched&&e.deleteMatched(e.word,0,e.start,e.end,g());var t="".concat(e.word.split(" ").slice(0,-1).join(" ")," ");""!=t.trim()&&f(te({phrase:t,label:h.selectedTheme,id:e.elementId,positive:0})).then(function(){window.getSelection().empty()})}},r.createElement(Wt.a,{color:"error",style:{opacity:.3,width:"25px",height:"25px"}})))}function Kt(e){var t=Object(p.b)(),n=Object(p.c)(function(e){return e.workspace}),a=r.useState(null),o=Object(i.a)(a,2),c=o[0],l=o[1],s=r.useState(null),u=Object(i.a)(s,2),h=u[0],f=u[1],g=r.useState(null),b=Object(i.a)(g,2),v=(b[0],b[1]),y=r.useState(!1),O=Object(i.a)(y,2),w=O[0],E=O[1],x=r.useState(!1),_=Object(i.a)(x,2),j=_[0],S=_[1],k=r.useState(!0),C=Object(i.a)(k,2),T=C[0],N=C[1],I=r.useState(n.userLabel[e.elementId]),L=Object(i.a)(I,2),F=(L[0],L[1],r.useState(!1)),P=Object(i.a)(F,2),J=P[0],A=P[1],R=r.useState(!1),z=Object(i.a)(R,2);z[0],z[1];r.useEffect(function(){v(e.example)},[]),r.useEffect(function(){S(!1),N(!0)},[e.score]),Object(r.useEffect)(function(){e.score,l(B(e.elementId,e.example))},[e.score,n.explanation]);var G=function(t,n){e.setPositiveIds({element_id:t,label:n})},B=function(e,t){var r=n.explanation,a=(r.USER_DEFINED,t.split(" ")),o={};a.forEach(function(e,t){o[t]=[]});for(var c=function(){var t=s[l],n=(u=Object(i.a)(t,2))[0],r=u[1],a=r&&r[e];if("USER_DEFINED"==n&&a)r[e].forEach(function(e){for(var t=e[1],r=e[2],a=t;a<r;a++)try{o[a]=[].concat(Object(W.a)(o[a]),[n])}catch(c){}});else if(a&&""!=a)for(var c=r[e][0][1],d=r[e][0][2],p=c;p<d;p++)try{o[p]=[].concat(Object(W.a)(o[p]),[n])}catch(m){}},l=0,s=Object.entries(r);l<s.length;l++){var u;c()}f(o);for(var d={},p="",m=null,h=0,g=0,b=[],v=[],y=function(){var e=w[O],t=(E=Object(i.a)(e,2))[0],n=E[1],r=n.length>0;if(null==m)m=r,p+=" "+a[t],b=n,v=Object(W.a)(n);else{if(m!=r)d["".concat(p," ").concat(t)]=[m,h,g,v],h=g,m=r,p=a[t],v=Object(W.a)(n);else b.filter(function(e){return n.includes(e)}).length?(p+=" "+a[t],v=Object(W.a)(new Set([].concat(Object(W.a)(v),Object(W.a)(n))))):(d["".concat(p," ").concat(t)]=[m,h,g,v],h=g,m=r,v=Object(W.a)(n),p=a[t]);a.length-1==t&&(d["".concat(p," ").concat(t)]=[m,h,g,v])}g+=1,b=n},O=0,w=Object.entries(o);O<w.length;O++){var E;y()}return d},U=function(n,r,a,o,i){var s=Object(m.a)({},c);s[n][0]=!1,l(s),t(Ge({key:n,label:r,start:a,end:o,patterns:i,elementId:e.elementId}))},H=function(e,r,a){N(!1),1==a?r>.5?(t(Ce({elementId:e,label:n.selectedTheme,event:"ADD"})),t($({elementId:e,label:n.selectedTheme,positive:1}))):r<.5&&(t(Te({elementId:e,theme:n.selectedTheme,label:0})),t($({elementId:e,label:n.selectedTheme,positive:0}))):0==a&&(S(!0),r>.5?(t(Te({elementId:e,theme:n.selectedTheme,label:0})),t($({elementId:e,label:n.selectedTheme,positive:0}))):r<.5&&(t(Ce({elementId:e,label:n.selectedTheme,event:"ADD"})),t($({elementId:e,label:n.selectedTheme,positive:1}))))},M=function(e){return e==n.selectedTheme};return r.createElement(d.a,{elevation:1,onClick:function(){e.setFocusedId(e.elementId)},sx:Object(m.a)({marginLeft:0,padding:2,backgroundColor:"#FFFFFF",border:"solid 3px #ececec",zIndex:1},w&&{position:"sticky",top:0})},r.createElement(d.a,{direction:"column"},r.createElement(d.a,{direction:"row"},r.createElement(d.a,{spacing:1,direction:"column"},null!=e.score&&.5!=e.score&&!j&&r.createElement(d.a,{style:{justifyContent:"center",alignItems:"center",color:e.score<.5?"crimson":n.color_code[n.selectedTheme],border:e.score<.5?"1px solid crimson":"1px solid ".concat(n.color_code[n.selectedTheme]),borderRadius:13.125,padding:5,marginRight:5,marginBottom:5},color:e.score>.5?"success":"error"},r.createElement(mt.a,{style:{maxWidth:"100px",flexWrap:"wrap",fontSize:"14px"}},e.score>.5?"Predicted  ".concat(e.theme):"Predicted not ".concat(e.theme)),!(n.element_to_label[e.elementId]&&-1!=n.element_to_label[e.elementId].indexOf(n.selectedTheme))&&T&&!n.binary_mode&&r.createElement(d.a,{direction:"row",justifyContent:"space-evenly",alignItems:"center",spacing:0,maxWidth:"fit-content"},r.createElement(rt.a,{onClick:function(){H(e.elementId,e.score,1)},color:"info",size:"small",style:{border:"1px solid",borderLeft:"none",borderRadius:"20px 0px 0px 20px",fontSize:"12px"}},"Accept"),r.createElement(rt.a,{onClick:function(){H(e.elementId,e.score,0)},size:"small",style:{border:"1px solid",borderLeft:"none",borderRadius:"0px 20px 20px 0px",fontSize:"12px"},color:"info"},"Reject")))),r.createElement(mt.a,{sx:{fontSize:16,fontWeight:500},color:"text.secondary",align:"left",variant:"body2",display:"block",gutterBottom:!0,onMouseUp:function(t){return e.getSelection(t)}},r.createElement(d.a,{direction:"row",spacing:1,maxWidth:"100%",overdflowY:"visible",overflowX:"hidden",sx:{flexWrap:"wrap"}},r.createElement(mt.a,{sx:{fontSize:16,fontWeight:500},color:"text.secondary",align:"left",variant:"body2",display:"block",gutterBottom:!0},r.createElement(d.a,{direction:"row",spacing:1,maxWidth:"100%",sx:{flexWrap:"wrap",zIndex:10,userSelect:"text"}},c&&Object.keys(c).map(function(t,n){return r.createElement(Yt,{elementId:e.elementId,key:"sent_".concat(e.elementId,"_").concat(n),score:e.score,word:t,matched:c[t][0],deleteMatched:U,start:c[t][1],end:c[t][2],patterns:c[t][3],matchedWith:h,setPopoverAnchor:e.setPopoverAnchor,setPopoverContent:e.setPopoverContent})}),!c&&r.createElement(Yt,{word:e.example}))))))),r.createElement("div",null,r.createElement(d.a,{direction:"row",spacing:2,style:{flexWrap:"wrap",rowGap:"10px"}},n.element_to_label[e.elementId]&&Object(W.a)(new Set(n.element_to_label[e.elementId])).map(function(a){return r.createElement(Ke.a,{key:"".concat(e.elementId,"_").concat(a),label:a,color:"primary",sx:{backgroundColor:n.color_code[a]},size:"small",onDelete:function(){return function(e,n){t(Ce({elementId:e,label:n,event:"REMOVE"})),t(ee({elementId:e,label:n}))}(e.elementId,a)}})}),n.negative_element_to_label[e.elementId]&&Object(W.a)(new Set(n.negative_element_to_label[e.elementId])).map(function(t){return r.createElement(Ke.a,{key:"".concat(e.elementId,"_neg_").concat(t),label:"Not ".concat(t),color:"primary",sx:{backgroundColor:n.not_color},style:{border:"5px solid ".concat(n.color_code[t])},size:"small"})}),n.binary_mode?r.createElement(d.a,{direction:"row",spacing:1,ml:5,style:{border:"1px solid ".concat(n.color_code[n.selectedTheme]),padding:"5px",borderRadius:"2px"}},r.createElement(mt.a,{variant:"subtitle1"},"".concat(n.selectedTheme,"?")),r.createElement(rt.a,{variant:"outlined",size:"small",backgroundColor:n.color_code[n.selectedTheme],disabled:n.element_to_label[e.elementId]&&-1!=n.element_to_label[e.elementId].findIndex(M),onClick:function(){t(Te({elementId:e.elementId,theme:n.selectedTheme,label:1})),t($({elementId:e.elementId,label:n.selectedTheme,positive:1}))}},"Yes"),r.createElement(rt.a,{disabled:n.negative_element_to_label[e.elementId]&&-1!=n.negative_element_to_label[e.elementId].findIndex(M),onClick:function(){t(Te({elementId:e.elementId,theme:n.selectedTheme,label:0})),t($({elementId:e.elementId,label:n.selectedTheme,positive:0}))},variant:"outlined",size:"small",color:"error"},"No")):r.createElement(Ke.a,{icon:r.createElement(st.a,null),label:"Add Label",variant:"outlined",size:"small",onClick:function(t){return function(t,n){e.setAnchorEl(t.currentTarget)}(t,e.elementId)}}),e.score>.5&&r.createElement(rt.a,{onClick:function(){w?(E(!1),e.retrain()):(E(!0),A(!0),t(D({id:e.elementId})).then(function(){A(!1)}))}},w?"Done":"See Similar")),w&&r.createElement(d.a,{direction:"column",maxHeight:"50vw",overflow:"auto",style:{border:"solid 3px #ececec",borderTop:"0px",zIndex:1111,backgroundColor:"#FFFFFF"}},r.createElement(tt.a,null),J&&r.createElement(et.a,{sx:{position:"fixed",top:"30%",left:"300px"}}),!J&&n.relatedExamples.map(function(e){return r.createElement(Nt,{color:n.color_code[n.selectedTheme]?Object(dt.d)(n.color_code[n.selectedTheme],.5):"".concat(Object(dt.d)("#ececec",.5)),show:!0,highlight:n.relatedExplanation[e.id],element:e,handleBatchLabel:G,sentence:e.example,key:"lightsent_".concat(e.id)})}))))}function Vt(e){var t=e.anchorEl,n=e.setAnchorEl,a=e.elementId,o=(e.merge,e.groupLabeling),c=e.setBatchLabeling,l=Object(p.c)(function(e){return e.workspace}),s=r.useState(!1),d=Object(i.a)(s,2),m=d[0],h=d[1],f=Object(p.b)(),g=Boolean(t),b=function(){n(null),c(null)},v=function(e){if(n(null),o){var t=o.filter(function(e){return e!=a});c(null),f(Re({ids:t,label:e,positive:1})),f(re({ids:t,label:e,positive:1})).then(function(e){})}else f(Ce({elementId:a,label:e,event:"ADD"})),f($({elementId:a,label:e}))},y=function(e,t,r){if(n(null),o){var a=o.filter(function(t){return t!=e});c(null),f(Re({ids:a,label:t,positive:r})),f(re({ids:a,label:t,positive:r})).then(function(e){})}else f(Te({elementId:e,theme:t,label:r})),f($({elementId:e,label:t,positive:r}))},O=function(e){return e==l.selectedTheme};return l.binary_mode?r.createElement(Lt.a,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:t,open:g,onClose:b,PaperProps:{style:{width:"20ch"}}},r.createElement(Ve.a,{disabled:l.element_to_label[a]&&-1!=l.element_to_label[a].findIndex(O),onClick:function(){return y(a,l.selectedTheme,1)}},r.createElement(Ke.a,{label:"",color:"primary",sx:{backgroundColor:l.color_code[l.selectedTheme],width:20,height:20,marginRight:1},size:"small"})," ",l.selectedTheme),r.createElement(Ve.a,{disabled:l.negative_element_to_label[a]&&-1!=l.negative_element_to_label[a].findIndex(O),onClick:function(){return y(a,l.selectedTheme,0)}},r.createElement(Ke.a,{label:"",color:"primary",sx:{backgroundColor:l.not_color,width:20,height:20,marginRight:1},size:"small"})," ","not ",l.selectedTheme)):r.createElement(Lt.a,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:t,open:g,onClose:b,PaperProps:{style:{}}},l.themes.map(function(e){return r.createElement(Ve.a,{key:e,disabled:!1,onClick:function(){return v(e)}},r.createElement(Ke.a,{key:"menuitem_".concat(e,"_light"),label:"",color:"primary",sx:{backgroundColor:l.color_code[e],width:20,height:20,marginRight:1},size:"small"})," ",e)}),r.createElement(Ve.a,{size:"small",onKeyDown:function(e){return e.stopPropagation()},onClickCapture:function(e){e.stopPropagation(),m||h(!m)},value:"add_new_theme",key:"theme_add_new"},m?r.createElement(u.a,{sx:{display:"flex",alignItems:"flex-end",width:"100%"}},r.createElement(Ke.a,{key:"menuitem_new_theme_light".concat(l.themes.length),label:"",color:"primary",sx:{backgroundColor:l.color_schema[l.themes.length],width:20,height:20,marginRight:1,mr:1,my:.5},size:"small"}),r.createElement(ut.a,{inputRef:function(e){return e&&e.focus()},size:"small",onKeyDown:function(e){"Enter"===e.key&&""!=e.target.value.trim()&&(f(Ne({theme:e.target.value,index:l.themes.length})),f(me({theme:e.target.value})),null==l.selectedTheme&&f(he({theme:e.target.value})),v(e.target.value),h(!1))},id:"input-with-sx",label:"New Theme",variant:"standard",onChange:function(e){e.target.value=e.target.value.toLowerCase()},placeholder:"Theme",multiline:!0,rowsMax:"3",fullWidth:!0})):r.createElement(rt.a,{variant:"outlined",startIcon:r.createElement(st.a,null)},"Add Theme")))}function Xt(e){var t=e.getSelection,n=e.hovering,a=e.setHovering,o=e.setScrollPosition,c=e.setOpenSideBar,l=e.focusedId,s=e.setFocusedId,h=e.setPopoverAnchor,f=e.setPopoverContent,g=(e.setActiveSentenceGroup,Object(p.c)(function(e){return e.workspace})),b=Object(p.b)(),v=r.useState({}),y=Object(i.a)(v,2),O=y[0],w=y[1],E=r.useState(null),x=Object(i.a)(E,2),_=x[0],j=x[1],S=r.useState(null),k=Object(i.a)(S,2),C=k[0],T=k[1];r.useEffect(function(){(g.loadingCombinedPatterns||g.loadingPatterns)&&a(null)},[g.loadingCombinedPatterns,g.loadingPatterns]);var N=function(){a(null);for(var e=0,t=Object.entries(O);e<t.length;e++){var n=t[e],r=Object(i.a)(n,2),o=r[0],c=r[1];b($({elementId:o,label:g.selectedTheme,positive:c})),1==c?b(Te({elementId:o,theme:g.selectedTheme,label:1})):0==c&&b(Te({elementId:o,theme:g.selectedTheme,label:0}))}Object.keys(O).length>0&&(b(B()).then(function(e){300!=e.payload.status_code&&(b(Fe({selectedSetting:0})),b(U()))}),w({}))},I=function(e){var t=Object(m.a)({},O);t[e.element_id]=e.label,w(t)};return r.createElement(u.a,{style:{maxHeight:"100%",maxWidth:"50vw",minWidth:"50vw",overflow:"auto",marginLeft:"10px"},onScroll:function(e){o(e.target.scrollTop/e.target.scrollHeight)}},r.createElement(Vt,{anchorEl:_,setAnchorEl:j,elementId:l,groupLabeling:C,setBatchLabeling:T}),!n&&g.groups.map(function(e,a){return r.createElement(d.a,{mb:5,sx:Object(m.a)({},g.groups.length>1&&{border:"solid 8px #4f4a50",borderRadius:"10px"})},g.groups.length>1&&!g.binary_mode&&r.createElement(d.a,{direction:"row",spacing:2,justifyContent:"center",alignItems:"center"},g.groupNames&&r.createElement(Me.a,{variant:"h6"},g.groupNames[a]),r.createElement(Ke.a,{icon:r.createElement(st.a,null),label:"Add Group Label",variant:"outlined",size:"small",onClick:function(e){T(g.groups[a]),j(e.target)}})),e.map(function(e,o){return r.createElement(Kt,{groupIndex:a,marginLeft:10,seeMore:c,index:o,positiveIds:O,setPositiveIds:I,explanation:n&&g.explanation?g.explanation[n][e]:null,hovering:n,score:g.elements[e].score,key:"sent_grouped_".concat(e),elementId:e,example:g.elements[e].example,focused:l==e,setFocusedId:s,theme:g.selectedTheme,annotationPerRetrain:g.annotationPerRetrain,getSelection:t,retrain:N,setPopoverAnchor:h,setPopoverContent:f,setAnchorEl:j})}))}),n&&g.explanation&&g.groups&&g.groups.map(function(e,t){return r.createElement(d.a,{mb:10,sx:{backgroundColor:"#cececece",border:"solid 3px #cececece"}},e.map(function(e,t){return r.createElement(Nt,{show:g.explanation[n]&&g.explanation[n][e],highlight:g.explanation[n]&&g.explanation[n][e],color:g.color_code[g.selectedTheme]?Object(dt.d)(g.color_code[g.selectedTheme],.5):"none",element:g.elements[e],handleBatchLabel:function(e,t){return I({element_id:e,label:t})},highlightAsList:!0,sentence:g.elements[e].example,key:"lightsent_hovering_".concat(e)})}))}),n&&Object.keys(O).length>0&&r.createElement(It.a,{sx:{position:"sticky",bottom:"50px",marginLeft:"20px"},color:"primary",variant:"extended",onClick:N},"Done"))}function qt(){var e=r.useState(0),t=Object(i.a)(e,2),n=t[0],a=t[1],o=r.useState(0),c=Object(i.a)(o,2),l=(c[0],c[1]),m=r.useState(null),h=Object(i.a)(m,2),f=h[0],g=h[1],b=r.useState(0),v=Object(i.a)(b,2),y=v[0],O=v[1],w=r.useState(!1),E=Object(i.a)(w,2),x=(E[0],E[1]),_=r.useState(0),j=Object(i.a)(_,2),S=(j[0],j[1]),k=r.useState(null),C=Object(i.a)(k,2),T=(C[0],C[1]),N=Object(p.c)(function(e){return e.workspace}),I=Object(p.b)(),L=r.useState(null),F=Object(i.a)(L,2),P=F[0],J=F[1],A=r.useState(0),R=Object(i.a)(A,2),z=R[0],G=R[1],D=r.useState(0),H=Object(i.a)(D,2),M=H[0],W=H[1],Y=r.useState(!1),V=Object(i.a)(Y,2),X=V[0],q=V[1],Z=r.useState(null),$=Object(i.a)(Z,2),ee=$[0],ne=$[1],re=r.useState(null),ae=Object(i.a)(re,2),oe=ae[0],le=ae[1],se=r.useState(!1),ue=Object(i.a)(se,2),de=ue[0],pe=ue[1],me=r.useState(null),fe=Object(i.a)(me,2),ge=fe[0],be=fe[1];r.useEffect(function(){0==N.cacheHit&&((N.loadingPatterns||N.loadingCombinedPatterns)&&I(Be()),ve())},[N.cacheHit]);var ve=function(){l(0),I(B()).then(function(e){var t=e.payload;t&&300==t.status_code||I(U())})},ye=function(){l(0),g(null)};r.useEffect(function(){I(Q({user:"user"})).then(function(e){window.localStorage.setItem("user","user"),I(K()),I(ce()),I(ie())})},[]),r.useEffect(function(){N.userAnnotationCount>0&&N.userAnnotationTracker>=N.annotationPerRetrain&&I(B()).then(function(e){var t=e.payload;t&&300==t.status_code||(I(Fe({selectedSetting:0})),I(U()))})},[N.userAnnotationTracker]);var Oe=function(e){be(e),pe(!0)};return r.createElement(d.a,{direction:"column",sx:{height:"100vh"}},r.createElement(Pt,null),r.createElement(pt,{binary_mode:N.binary_mode,setTheme:function(e){ye(),I(he({theme:e})).then(function(){N.userAnnotationCount>0&&N.refresh?ve():I(De())}),ye()},color_code:N.color_code,selectedTheme:N.selectedTheme,themes:N.themes,retrain:ve,annotationPerRetrain:N.annotationPerRetrain,userAnnotationTracker:N.userAnnotationTracker,modelAnnotationCount:N.modelAnnotationCount,totalDataset:N.totalDataset,userAnnotationCount:N.userAnnotationCount}),r.createElement(zt,{color:N.color_code[N.selectedTheme],dataset:N.dataset,scrollPosition:y,show:!f}),r.createElement(d.a,{direction:"row",sx:{height:"84vh"},mt:"145px",ml:1,spacing:2,divider:r.createElement(s.a,{orientation:"vertical"})},r.createElement(Xt,{hovering:f,setHovering:g,setScrollPosition:O,setOpenSideBar:x,focusedId:n,setFocusedId:a,setPopoverAnchor:ne,setPopoverContent:le,setLabelSelectorAnchor:T,getSelection:function(e){0!=window.getSelection().toString().length&&(e.preventDefault(),J(e.currentTarget),G(e.clientX),W(e.clientY),q(!0))},setActiveSentenceGroup:S}),r.createElement(u.a,{style:{maxHeight:"100%",maxWidth:"45vw",minWidth:"45vw",overflow:"auto",padding:"10px",paddingTop:"0px"}},r.createElement(d.a,{direction:"column"},r.createElement(d.a,{style:{position:"sticky",top:0,minWidth:"100%",backgroundColor:"#FFFFFF",zIndex:1e3,boxShadow:"2px 2px"}},r.createElement(Rt,{selectedTheme:N.selectedTheme,color:N.color_code[N.selectedTheme],data:N.combinedPatterns,retrain:ve})),r.createElement(Ue,{index:0,setHovering:g,hovering:f,handelOpenModal:Oe,loading:N.loadingCombinedPatterns||N.loadingPatterns,data:N.combinedPatterns.patterns,columns:[{id:"pattern",label:"Pattern"},{id:"weight",label:"Weight"},{id:"fscore",label:"Fscore"},{id:"recall",label:"Recall"},{id:"precision",label:"Precision"}]}),r.createElement(Ue,{index:1,handelOpenModal:Oe,loading:N.loadingPatterns,data:Object.values(N.patterns),columns:[{id:"pattern",label:"Pattern"},{id:"fscore",label:"Fscore"},{id:"recall",label:"Recall"},{id:"precision",label:"Precision"}]}))),r.createElement(Dt,{open:X,anchorPoint:P,handleClose:function(){q(!1),J(null)},x:z,y:M,handlePhraseLabeling:function(e){var t=window.getSelection().toString().replace(/\n/g," ");""!=t.trim()&&I(te({phrase:t,label:e,id:n,positive:1})).then(function(){window.getSelection().empty()}),q(!1),J(null)}})),r.createElement(Gt.a,{id:"generaluse_popover",anchorEl:ee,open:Boolean(ee),anchorOrigin:{vertical:"bottom",horizontal:"left"},sx:{pointerEvents:"none"},transformOrigin:{vertical:"top",horizontal:"left"},disableRestoreFocus:!0,children:r.createElement(r.Fragment,null,r.createElement(u.a,{sx:{position:"relative",mt:"10px","&::before":{backgroundColor:"white",content:'""',display:"block",position:"absolute",width:12,height:12,top:-6,transform:"rotate(45deg)",left:"calc(50% - 6px)"}}}),r.createElement(u.a,{sx:{p:2,backgroundColor:"white"}},oe)),PaperProps:{style:{backgroundColor:"transparent",borderRadius:1}}}),r.createElement(Ht,{open:de,setOpen:pe,setRow:be,row:ge}))}var Qt=[{routeProps:{path:"/",element:r.createElement(qt,null)},name:"workspace"}],Zt=n(285),$t=n(166),en=n(286);var tn=function(){var e=Object($t.a)({typography:{fontFamily:'"Roboto", "Nunito", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500},palette:{mode:o?"dark":"light",background:{default:"red"}},components:{MuiCard:{styleOverrides:{root:{border:"none"}}}}}),t=Object(r.useState)(!0),n=Object(i.a)(t,2),o=n[0];return n[1],a.a.createElement("div",{className:"App"},a.a.createElement(Zt.a,{theme:e},a.a.createElement(en.a,null),a.a.createElement(l.c,null,Qt.map(function(e){return a.a.createElement(l.a,Object.assign({},e.routeProps,{key:e.name}))}))))},nn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,323)).then(function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)})},rn=n(99),an=Object(F.a)({reducer:{workspace:Se}});c.a.render(a.a.createElement(rn.a,null,a.a.createElement(p.a,{store:an},a.a.createElement(tn,null))),document.getElementById("root")),nn()}},[[195,1,2]]]);
//# sourceMappingURL=main.629861d5.chunk.js.map